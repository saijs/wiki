<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="generator" content="nico 0.4.7">
    <meta name="theme" content="markwiki 0.1">
    <title>jQuery attr setting</title>
<script type="text/javascript">
</script>
    <link rel="stylesheet" href="../static/one.css" />
    <link rel="stylesheet" href="../static/codes.css" />
    <link rel="stylesheet" href="../static/syntax.css" />
  </head>
  <body>
    <div class="navigation" role="navigation">
      <div class="container">
        <!--<a class="home" href="../"></a>-->
        <div class="menu">
          <ul>
            <li><a href="../../../../../">首页</a></li>
            <li><a href="../../../../../wiki">异常列表</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="document">
<div class="hentry">
  <h1 class="entry-title">jQuery attr setting</h1>
  <div class="entry-content"><div style="display:none">

<form id="idform">
  <fieldset id="idfieldset">
    <label id="idlabel">label</label>
    <input id="idinput" />
    <select id="idselect">
      <optgroup id="idoptgroup">
        <option id="idoption">opt</option>
      </optgroup>
    </select>
    <textarea id="idtextarea"></textarea>
    <button id="idbutton">button</button>
  </fieldset>
  <a id="ida">a link</a>
  <div id="iddiv">div</div>
</form>

</div>

<p>jQuery.attr() set:
<div id="output-jqset"></div></p>

<hr/>

<p>JavaScript setAttribute():
<div id="output-jsset"></div></p>

<script type="text/javascript">
var jsset = function( elem, value, name ) {
    return elem.setAttribute(name, value);
}

var jqset = function( elem, value, name ) {
    // Set the existing or create a new attribute node
    var ret = elem.getAttributeNode( name );
    if ( !ret ) {
        ret = document.createAttribute( name );
        elem.setAttributeNode( ret );
    }
    return ( ret.nodeValue = value + "" );
}

var tags = [
  "form", "input", "select", "label", "textarea", "button",
  "option", "optgroup", "fieldset", "a", "div"
];
var attrs = [
"autocomplete",
    "autofocus",
    "form",
    "formaction",
    "formenctype",
    "formmethod",
    "formnovalidate",
    "formtarget",
    "width",
    "height",
    "list",
    "min",
    "max",
    "multipie",
    "novalidate",
    "pattern",
    "placeholder",
    "required",
    "step",
    "aria-activedescendant",
    "aria-atomic",
    "aria-autocomplete",
    "aria-busy",
    "aria-checked",
    "aria-controls",
    "aria-describedby",
    "aria-disabled",
    "aria-dropeffect",
    "aria-expanded",
    "aria-flowto",
    "aria-grabbed",
    "aria-haspopup",
    "aria-hidden",
    "aria-invalid",
    "aria-label",
    "aria-labelledby",
    "aria-level",
    "aria-live",
    "aria-multiline",
    "aria-multiselectable",
    "aria-orientation",
    "aria-owns",
    "aria-posinset",
    "aria-pressed",
    "aria-readonly",
    "aria-relevant",
    "aria-required",
    "aria-selected",
    "aria-setsize",
    "aria-sort",
    "aria-valuemax",
    "aria-valuemin",
    "aria-valuenow",
    "aria-valuetext"
];

var output_jq = document.getElementById("output-jqset");
var output_js = document.getElementById("output-jsset");

for(var j=0,m=attrs.length; j<m; j++){
    for(var i=0,l=tags.length; i<l; i++){
        try{
            jsset(document.getElementById("id"+tags[i]), "", attrs[j]);
        }catch(exjs){
            output_js.innerHTML += tags[i]+"["+attrs[j]+"]: "+exjs.message+"<br/>";
        }
        try{
            jqset(document.getElementById("id"+tags[i]), "", attrs[j]);
        }catch(ex){
            output_jq.innerHTML += tags[i]+"["+attrs[j]+"]: "+ex.message+"<br/>";
        }
    }
}

</script>
</div>
</div>
</div>
    <div class="footer">
      <p class="copyright">JavaScript 异常档案</p>
      <!--<p class="copyright">powered by <a href="http://lab.lepture.com/nico/">nico</a> 0.4.7</p>-->
    </div>
    <script src="http://static.alipayobjects.com/seajs/1.2.1/sea.js" data-main="../static/one.js"></script>
    <script src="../static/codes.js"></script>

  <div class="github"><a class="github-link" href="https://github.com/totorojs/javascript-exception-archives">Fork me on GitHub</a></div>

  </body>
</html>